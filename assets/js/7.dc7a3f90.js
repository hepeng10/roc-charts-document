(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{358:function(t,a,s){"use strict";s.r(a);var v=s(43),_=Object(v.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"图谱-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图谱-api"}},[t._v("#")]),t._v(" 图谱 API")]),t._v(" "),s("p",[t._v("图谱对外暴露了一些实用的 API 以供调用操作图谱。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" chart "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'roc-charts'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" chart "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Chart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nchart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当我们实例化图谱后便可调用图谱的 API 用来操作图谱，如：")]),t._v("\nchart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("showLoading")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 显示图谱的 loading动画")]),t._v("\nchart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("highlightNodes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("id1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" id2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" id3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 高亮一组节点")]),t._v("\n")])])]),s("p",[t._v("API 包括两种类型，一种是通过 chart 直接调用，一种是通过 chart.util 调用。")]),t._v(" "),s("h2",{attrs:{id:"chart-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#chart-api"}},[t._v("#")]),t._v(" chart API")]),t._v(" "),s("p",[t._v("通过 chart 直接调用，如：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("chart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("showLoading")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",[t._v("API")]),t._v(" "),s("th",[t._v("参数")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("showLoading")]),t._v(" "),s("td",[t._v("无")]),t._v(" "),s("td",[t._v("显示图谱 loading 动画")])]),t._v(" "),s("tr",[s("td",[t._v("hideLoading")]),t._v(" "),s("td",[t._v("无")]),t._v(" "),s("td",[t._v("隐藏图谱 loading 动画")])]),t._v(" "),s("tr",[s("td",[t._v("extend")]),t._v(" "),s("td",[t._v("(nodeId: str|num, nodes: arr, links: arr)"),s("br"),t._v("node: 扩展源节点的 id"),s("br"),t._v("nodes: 添加的节点，同创建图谱 data 里的 nodes"),s("br"),t._v("links: 添加的线，同创建图谱 data 里的 links")]),t._v(" "),s("td",[t._v("扩展（添加）节点和线")])]),t._v(" "),s("tr",[s("td",[t._v("getStore")]),t._v(" "),s("td",[t._v("无")]),t._v(" "),s("td",[t._v("获取图谱 store 数据，此数据由 data 生成")])]),t._v(" "),s("tr",[s("td",[t._v("getScale")]),t._v(" "),s("td",[t._v("无")]),t._v(" "),s("td",[t._v("获取当前缩放率")])]),t._v(" "),s("tr",[s("td",[t._v("setScale")]),t._v(" "),s("td",[t._v("(scale: num)")]),t._v(" "),s("td",[t._v("修改缩放率")])]),t._v(" "),s("tr",[s("td",[t._v("setConfig")]),t._v(" "),s("td",[t._v("(config: obj) obj 为创建图谱时 config 中的 core")]),t._v(" "),s("td",[t._v("修改 core 配置")])]),t._v(" "),s("tr",[s("td",[t._v("changeChart")]),t._v(" "),s("td",[t._v("(type: str, config: obj, chartConfig: obj)"),s("br"),t._v("type: 图谱类型"),s("br"),t._v("config: config 中的 core 配置"),s("br"),t._v("chartConfig: config 中的 chart 配置")]),t._v(" "),s("td",[t._v("修改图谱类型")])]),t._v(" "),s("tr",[s("td",[t._v("refresh")]),t._v(" "),s("td",[t._v("无")]),t._v(" "),s("td",[t._v("刷新图谱。比如通过 getStore 获取 store 后，自行修改了一些节点的 position，再调用此方法实现修改节点坐标。")])]),t._v(" "),s("tr",[s("td",[t._v("reset")]),t._v(" "),s("td",[t._v("无")]),t._v(" "),s("td",[t._v("复位图谱")])]),t._v(" "),s("tr",[s("td",[t._v("resize")]),t._v(" "),s("td",[t._v("无")]),t._v(" "),s("td",[t._v("容器大小改变后调用修改画布大小")])]),t._v(" "),s("tr",[s("td",[t._v("destroy")]),t._v(" "),s("td",[t._v("无")]),t._v(" "),s("td",[t._v("销毁图谱")])])])]),t._v(" "),s("h2",{attrs:{id:"util-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#util-api"}},[t._v("#")]),t._v(" util API")]),t._v(" "),s("p",[t._v("通过 chart.util 调用，如：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("chart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("highlightNodes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("id1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" id2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" id3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",[t._v("API")]),t._v(" "),s("th",[t._v("参数")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("highlightAll")]),t._v(" "),s("td",[t._v("无")]),t._v(" "),s("td",[t._v("高亮所有节点和线")])]),t._v(" "),s("tr",[s("td",[t._v("relationHighlight")]),t._v(" "),s("td",[t._v("(nodeId, deep: bool)"),s("br"),t._v("nodeId: 节点 id"),s("br"),t._v("deep: 是否深度查找。a->b->c 为 true 时 c 会高亮，false 时只会高亮直接相连的 b，默认为 false")]),t._v(" "),s("td",[t._v("高亮与某个节点有连线的节点")])]),t._v(" "),s("tr",[s("td",[t._v("highlightNodes")]),t._v(" "),s("td",[t._v("(nodesId: arr) 节点 id 数组")]),t._v(" "),s("td",[t._v("高亮一组节点")])]),t._v(" "),s("tr",[s("td",[t._v("hideNodes")]),t._v(" "),s("td",[t._v("(nodesId: arr) 节点 id 数组")]),t._v(" "),s("td",[t._v("隐藏一组节点")])]),t._v(" "),s("tr",[s("td",[t._v("deleteNodes")]),t._v(" "),s("td",[t._v("(nodesId: arr) 节点 id 数组")]),t._v(" "),s("td",[t._v("删除一组节点（某些图谱算法删除一些关键节点后会无法绘制）")])]),t._v(" "),s("tr",[s("td",[t._v("showRelationNodes")]),t._v(" "),s("td",[t._v("(nodeId, deep: bool)"),s("br"),t._v("deep: 是否深查找")]),t._v(" "),s("td",[t._v("显示与某个节点有联系的所有节点。用于与某节点有联系的节点被隐藏后再显示的操作")])]),t._v(" "),s("tr",[s("td",[t._v("select")]),t._v(" "),s("td",[t._v("(nodesId, bgType: str)"),s("br"),t._v("bgType 值为 circle 或 rect，默认为 circle，当节点为方形则要传 rect")]),t._v(" "),s("td",[t._v("清空已选的节点，然后选中参数中的节点")])]),t._v(" "),s("tr",[s("td",[t._v("addSelect")]),t._v(" "),s("td",[t._v("同上")]),t._v(" "),s("td",[t._v("不会清空已选节点，添加选中的节点")])]),t._v(" "),s("tr",[s("td",[t._v("removeSelect")]),t._v(" "),s("td",[t._v("(nodesId)")]),t._v(" "),s("td",[t._v("移除选中节点中的部分节点")])]),t._v(" "),s("tr",[s("td",[t._v("getSelectedNodes")]),t._v(" "),s("td",[t._v("无")]),t._v(" "),s("td",[t._v("获取所有选中节点的 id")])]),t._v(" "),s("tr",[s("td",[t._v("highlightLinks")]),t._v(" "),s("td",[t._v("(linksId: arr)"),s("br"),t._v("这里 link 的 id 是由 from 和 to 组成的"),s("code",[t._v("${from}->${to}")])]),t._v(" "),s("td",[t._v("高亮连线")])]),t._v(" "),s("tr",[s("td",[t._v("fadeAllLinks")]),t._v(" "),s("td",[t._v("无")]),t._v(" "),s("td",[t._v("淡化所有线，突出显示节点")])]),t._v(" "),s("tr",[s("td",[t._v("highlightPath")]),t._v(" "),s("td",[t._v("(nodesId: arr)"),s("br"),t._v("参数是路径上所有节点的 id")]),t._v(" "),s("td",[t._v("高亮一条路径的节点和连线")])]),t._v(" "),s("tr",[s("td",[t._v("find2PointsPath")]),t._v(" "),s("td",[t._v("(nodeId1, nodeId2)")]),t._v(" "),s("td",[t._v("返回两点间所有路径的节点数组")])]),t._v(" "),s("tr",[s("td",[t._v("depthFindShortestPath")]),t._v(" "),s("td",[t._v("(nodeId1, nodeId2)")]),t._v(" "),s("td",[t._v("深度遍历查找两点间的最短路径")])]),t._v(" "),s("tr",[s("td",[t._v("breadthFindShortestPath")]),t._v(" "),s("td",[t._v("(nodeId1, nodeId2)")]),t._v(" "),s("td",[t._v("广度遍历查找两点间的最短路径（通常比深度遍历性能更好）")])]),t._v(" "),s("tr",[s("td",[t._v("getImg")]),t._v(" "),s("td",[t._v("callback(dataURI)")]),t._v(" "),s("td",[t._v("获取图谱图片，返回图片 dataURI")])]),t._v(" "),s("tr",[s("td",[t._v("saveImg")]),t._v(" "),s("td",[t._v("callback(dataURI) 可选参数")]),t._v(" "),s("td",[t._v("下载图片")])])])])])}),[],!1,null,null,null);a.default=_.exports}}]);